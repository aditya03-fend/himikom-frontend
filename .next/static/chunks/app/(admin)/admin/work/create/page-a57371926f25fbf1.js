(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{519:(e,a,t)=>{Promise.resolve().then(t.bind(t,6216))},6216:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var r=t(3338),l=t(1855),s=t.n(l),i=t(277),o=t(7807),n=t(7022),c=t(1063),d=t(3421),b=t.n(d),x=t(2062),m=t(591),p=t(3690),u=t(4128),g=t(9287),h=t(609),j=t(1770);t(3094);let f=(0,o.default)(()=>t.e(995).then(t.bind(t,9995)),{loadableGenerated:{webpack:()=>[9995]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-[500px] bg-zinc-900 animate-pulse rounded-xl"})});function k(){let e=(0,n.useRouter)(),[a,t]=(0,i.useState)(!1),[l,o]=(0,i.useState)("file"),[d,k]=(0,i.useState)(!1),N=(0,i.useRef)(null),[v,w]=(0,i.useState)({title:"",studentName:"",image:"",content:""}),y=e=>{if(!e.type.startsWith("image/"))return void alert("Mohon upload file gambar project!");if(e.size>2097152)return void alert("Ukuran file terlalu besar! Maksimal 2MB.");let a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{w(e=>({...e,image:a.result}))}},q=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?k(!0):"dragleave"===e.type&&k(!1)},C=async a=>{a.preventDefault(),t(!0);let r=c.A.get("token");if(!v.title||!v.content||!v.studentName||!v.image){alert("Mohon lengkapi semua data (Judul, Nama, Gambar, Deskripsi)!"),t(!1);return}try{let a=await fetch("https://aditya03-fend-himikom-backend.hf.space/api/work",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(v)});if(!a.ok){let e=await a.json();throw Error(e.message||"Gagal menyimpan karya")}alert("Karya berhasil ditambahkan!"),e.push("/admin/work")}catch(e){console.error(e),alert(e.message||"Terjadi kesalahan saat menyimpan.")}finally{t(!1)}},z=(0,i.useMemo)(()=>({toolbar:[[{font:[]}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["clean"]]}),[]);return(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 pb-20",children:[(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 flex items-center justify-between mb-8 sticky top-0 bg-black z-20 py-4 border-b border-white/10",children:[(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 flex items-center gap-4",children:[(0,r.jsx)(b(),{href:"/admin/work",className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:(0,r.jsx)(x.A,{size:20})}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6",children:[(0,r.jsx)("h1",{className:"jsx-80a8b638558e68c6 text-2xl font-bold font-heading",children:"Upload Karya Baru"}),(0,r.jsx)("p",{className:"jsx-80a8b638558e68c6 text-gray-400 text-sm",children:"Dokumentasikan project inovatif mahasiswa."})]})]}),(0,r.jsxs)("button",{onClick:C,disabled:a,className:"jsx-80a8b638558e68c6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[a?(0,r.jsx)(m.A,{className:"animate-spin"}):(0,r.jsx)(p.A,{size:18}),"SIMPAN PROJECT"]})]}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 flex flex-col lg:flex-row gap-8",children:[(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 lg:w-2/3 order-2 lg:order-1",children:[(0,r.jsx)("label",{className:"jsx-80a8b638558e68c6 text-xs font-bold text-gray-500 uppercase block mb-2",children:"Deskripsi Detail Project"}),(0,r.jsx)("div",{className:"jsx-80a8b638558e68c6 bg-zinc-900 border border-white/10 rounded-xl overflow-hidden min-h-[500px] flex flex-col",children:(0,r.jsx)(f,{theme:"snow",value:v.content,onChange:e=>w({...v,content:e}),modules:z,placeholder:"Ceritakan fitur, teknologi yang digunakan, dan cara kerja project...",className:"flex-1 text-white bg-black/30"})})]}),(0,r.jsx)("div",{className:"jsx-80a8b638558e68c6 lg:w-1/3 order-1 lg:order-2 space-y-6",children:(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 bg-zinc-900 border border-white/10 p-6 rounded-xl sticky top-32",children:[(0,r.jsx)("h3",{className:"jsx-80a8b638558e68c6 text-lg font-bold mb-4 text-green-400",children:"Informasi Project"}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 space-y-6",children:[(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6",children:[(0,r.jsx)("label",{className:"jsx-80a8b638558e68c6 text-xs font-bold text-gray-500 uppercase",children:"Nama Project"}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"Contoh: Sistem Absensi QR",value:v.title,onChange:e=>w({...v,title:e.target.value}),className:"jsx-80a8b638558e68c6 w-full bg-black/50 border border-white/10 rounded-lg p-3 mt-1 focus:border-green-500 transition-all outline-none text-white font-bold"})]}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6",children:[(0,r.jsx)("label",{className:"jsx-80a8b638558e68c6 text-xs font-bold text-gray-500 uppercase",children:"Nama Pembuat"}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"Nama Mahasiswa / Tim",value:v.studentName,onChange:e=>w({...v,studentName:e.target.value}),className:"jsx-80a8b638558e68c6 w-full bg-black/50 border border-white/10 rounded-lg p-3 mt-1 focus:border-green-500 transition-all outline-none"})]}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6",children:[(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 flex items-center justify-between mb-2",children:[(0,r.jsx)("label",{className:"jsx-80a8b638558e68c6 text-xs font-bold text-gray-500 uppercase",children:"Screenshot / Poster"}),(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 flex bg-black/50 p-1 rounded-lg border border-white/5",children:[(0,r.jsxs)("button",{onClick:()=>o("file"),className:`jsx-80a8b638558e68c6 p-1 px-2 rounded text-[10px] font-bold transition-all flex items-center gap-1 ${"file"===l?"bg-green-600 text-white":"text-gray-400 hover:text-white"}`,children:[(0,r.jsx)(u.A,{size:12})," Upload"]}),(0,r.jsxs)("button",{onClick:()=>o("url"),className:`jsx-80a8b638558e68c6 p-1 px-2 rounded text-[10px] font-bold transition-all flex items-center gap-1 ${"url"===l?"bg-green-600 text-white":"text-gray-400 hover:text-white"}`,children:[(0,r.jsx)(g.A,{size:12})," URL"]})]})]}),v.image?(0,r.jsxs)("div",{className:"jsx-80a8b638558e68c6 relative group rounded-lg overflow-hidden border border-white/10 bg-black h-40 mb-4",children:[(0,r.jsx)("img",{src:v.image,alt:"Preview",className:"jsx-80a8b638558e68c6 w-full h-full object-cover"}),(0,r.jsx)("button",{onClick:()=>w({...v,image:""}),className:"jsx-80a8b638558e68c6 absolute top-2 right-2 bg-red-600/90 hover:bg-red-600 text-white p-1.5 rounded-full transition-all",children:(0,r.jsx)(h.A,{size:16})})]}):(0,r.jsx)(r.Fragment,{children:"file"===l?(0,r.jsxs)("div",{onDragEnter:q,onDragLeave:q,onDragOver:q,onDrop:e=>{e.preventDefault(),e.stopPropagation(),k(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files[0])},onClick:()=>N.current?.click(),className:`jsx-80a8b638558e68c6 relative w-full h-40 border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all ${d?"border-green-500 bg-green-500/10":"border-white/10 bg-black/30 hover:bg-black/50 hover:border-white/20"}`,children:[(0,r.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&y(e.target.files[0])},className:"jsx-80a8b638558e68c6 hidden"}),(0,r.jsx)(j.A,{size:32,className:`mb-2 ${d?"text-green-400":"text-gray-500"}`}),(0,r.jsx)("p",{className:"jsx-80a8b638558e68c6 text-sm text-gray-400 font-medium",children:"Klik atau drop file di sini"}),(0,r.jsx)("p",{className:"jsx-80a8b638558e68c6 text-[10px] text-gray-600 mt-1",children:"Maks 2MB (JPG/PNG)"})]}):(0,r.jsx)("input",{type:"url",placeholder:"https://example.com/image.jpg",value:v.image,onChange:e=>w({...v,image:e.target.value}),className:"jsx-80a8b638558e68c6 w-full bg-black/50 border border-white/10 rounded-lg p-3 focus:border-green-500 transition-all outline-none text-sm"})})]}),(0,r.jsx)("div",{className:"jsx-80a8b638558e68c6 p-4 bg-blue-900/20 border border-blue-500/20 rounded-lg mt-4",children:(0,r.jsxs)("p",{className:"jsx-80a8b638558e68c6 text-xs text-blue-300 leading-relaxed",children:["Tips: Gunakan fitur ",(0,r.jsx)("strong",{className:"jsx-80a8b638558e68c6",children:"Code Block"})," untuk menampilkan snippet kodingan agar terlihat teknis dan profesional."]})})]})]})})]}),(0,r.jsx)(s(),{id:"80a8b638558e68c6",children:".ql-toolbar{background-color:#18181b;border-color:#27272a!important;border-top-left-radius:.75rem;border-top-right-radius:.75rem}.ql-container{border-color:#27272a!important;border-bottom-left-radius:.75rem;border-bottom-right-radius:.75rem;font-size:16px;min-height:500px}.ql-editor{min-height:500px}.ql-stroke{stroke:#a1a1aa!important}.ql-fill{fill:#a1a1aa!important}.ql-picker{color:#a1a1aa!important}.ql-picker-label{color:#a1a1aa!important}.ql-picker-options{background-color:#18181b!important;border-color:#3f3f46!important;color:#e4e4e7!important}.ql-picker-item{color:#a1a1aa!important}.ql-picker-item:hover{color:#fff!important;background-color:#27272a}.ql-editor.ql-blank::before{color:#52525b!important;font-style:normal}.ql-snow .ql-editor pre.ql-syntax{background-color:#09090b!important;color:#4ade80!important;border:1px solid#27272a;border-radius:.5rem;padding:1rem}"})]})}}},e=>{e.O(0,[43,461,863,218,144,358],()=>e(e.s=519)),_N_E=e.O()}]);
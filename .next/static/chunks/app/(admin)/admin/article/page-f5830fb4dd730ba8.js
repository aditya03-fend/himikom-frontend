(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{591:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},938:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(5790),s=r(236);function i(...e){return(0,s.QP)((0,a.$)(e))}},1063:(e,t,r)=>{"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{A:()=>s});var s=function e(t,r){function s(e,s,i){if("undefined"!=typeof document){"number"==typeof(i=a({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var n in i)i[n]&&(l+="; "+n,!0!==i[n]&&(l+="="+i[n].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+l}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},s=0;s<r.length;s++){var i=r[s].split("="),l=i.slice(1).join("=");try{var n=decodeURIComponent(i[0]);if(a[n]=t.read(l,n),e===n)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){s(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},3291:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},4365:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4915:(e,t,r)=>{Promise.resolve().then(r.bind(r,5047))},5047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(3338),s=r(277),i=r(3421),l=r.n(i),n=r(1063),c=r(3291),o=r(591),d=r(4223),h=r(5077),x=r(9343),p=r(4365),u=r(6398),m=r(5398),b=r(7012),f=r(938);function g(){let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[g,y]=(0,s.useState)(""),[k,v]=(0,s.useState)(null),w="https://aditya03-fend-himikom-backend.hf.space",j=async()=>{let e=n.A.get("user_role")||"",r=n.A.get("token");y(e);try{let e=await fetch(`${w}/api/article`,{cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!e.ok)throw Error("Gagal ambil data");t(await e.json())}catch(e){console.error(e)}finally{i(!1)}},A=async(e,t)=>{let r=n.A.get("token");try{(await fetch(`${w}/api/article/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({status:t})})).ok?(j(),v(null)):alert("Gagal update status")}catch(e){alert("Terjadi kesalahan koneksi")}},N=async e=>{if(!confirm("PERINGATAN: Yakin ingin menghapus artikel ini permanen?"))return;let t=n.A.get("token");try{(await fetch(`${w}/api/article/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok&&j()}catch(e){alert("Gagal menghapus artikel")}};return(0,s.useEffect)(()=>{let e=()=>v(null);return k&&window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[k]),(0,s.useEffect)(()=>{j()},[]),(0,a.jsxs)("div",{className:"min-h-screen pb-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-heading",children:"Kelola Artikel"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Login sebagai: ",(0,a.jsx)("span",{className:(0,f.cn)("font-bold uppercase","SUPER_ADMIN"===g?"text-red-500":"text-blue-500"),children:g.replace("_"," ")})]})]}),(0,a.jsxs)(l(),{href:"/admin/article/create",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold text-sm transition-colors shadow-lg shadow-blue-900/20",children:[(0,a.jsx)(c.A,{size:18})," TAMBAH ARTIKEL"]})]}),(0,a.jsx)("div",{className:"bg-zinc-900 border border-white/10 rounded-xl overflow-visible shadow-xl",children:r?(0,a.jsxs)("div",{className:"p-12 text-center flex flex-col items-center gap-3 text-gray-500",children:[(0,a.jsx)(o.A,{className:"animate-spin w-8 h-8 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Memuat artikel..."})]}):0===e.length?(0,a.jsx)("div",{className:"p-12 text-center text-gray-500",children:'Belum ada artikel. Klik tombol "Tambah Artikel" untuk membuat baru.'}):(0,a.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,a.jsx)("thead",{className:"bg-white/5 text-gray-400 text-xs uppercase tracking-wider",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-4 border-b border-white/10",children:"Status"}),(0,a.jsx)("th",{className:"p-4 border-b border-white/10",children:"Judul Artikel"}),(0,a.jsx)("th",{className:"p-4 border-b border-white/10",children:"Tanggal Upload"}),(0,a.jsx)("th",{className:"p-4 border-b border-white/10 text-right",children:"Aksi"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/10",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:(0,f.cn)("px-2 py-1 rounded text-[10px] font-bold border uppercase","PUBLISHED"===e.status?"bg-green-500/10 text-green-400 border-green-500/20":"REJECTED"===e.status?"bg-red-500/10 text-red-400 border-red-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"),children:e.status||"PENDING"})}),(0,a.jsxs)("td",{className:"p-4 font-medium text-white max-w-md truncate flex items-center gap-3",children:[(0,a.jsx)(d.A,{size:16,className:"text-gray-500 shrink-0"}),e.title]}),(0,a.jsx)("td",{className:"p-4 text-gray-400 text-sm",children:(0,a.jsx)("span",{suppressHydrationWarning:!0,children:new Date(e.createdAt).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})}),(0,a.jsx)("td",{className:"p-4 text-right relative",children:"SUPER_ADMIN"===g?(0,a.jsxs)("div",{className:"relative inline-block text-left",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:()=>{var t;k===(t=e.id)?v(null):v(t)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition-all",children:(0,a.jsx)(h.A,{size:20})}),k===e.id&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-52 bg-zinc-950 border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:(0,a.jsxs)("div",{className:"py-1",children:["PUBLISHED"===e.status&&(0,a.jsxs)(l(),{href:`/article/${e.id}`,target:"_blank",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-300 hover:bg-white/10 hover:text-white transition-colors w-full text-left",children:[(0,a.jsx)(x.A,{size:16,className:"text-gray-500"})," Lihat di Web"]}),"PUBLISHED"!==e.status&&(0,a.jsxs)("button",{onClick:()=>A(e.id,"PUBLISHED"),className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-300 hover:bg-green-500/10 hover:text-green-400 transition-colors w-full text-left border-t border-white/5",children:[(0,a.jsx)(p.A,{size:16})," Publish"]}),"PENDING"===e.status&&(0,a.jsxs)("button",{onClick:()=>A(e.id,"REJECTED"),className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-300 hover:bg-red-500/10 hover:text-red-400 transition-colors w-full text-left",children:[(0,a.jsx)(u.A,{size:16})," Reject"]}),"PUBLISHED"===e.status&&(0,a.jsxs)("button",{onClick:()=>A(e.id,"PENDING"),className:"flex items-center gap-3 px-4 py-3 text-sm text-yellow-500 hover:bg-yellow-500/10 hover:text-yellow-400 transition-colors w-full text-left border-t border-white/5",children:[(0,a.jsx)(m.A,{size:16})," Batal Publish"]}),(0,a.jsxs)("button",{onClick:()=>N(e.id),className:"flex items-center gap-3 px-4 py-3 text-sm text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors w-full text-left border-t border-white/10",children:[(0,a.jsx)(b.A,{size:16})," Hapus Permanen"]})]})})]}):(0,a.jsx)("span",{className:"text-gray-600 text-[10px] italic pr-2",children:"Akses Terbatas"})})]},e.id))})]})})]})}},5077:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},5398:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},6398:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7012:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},9343:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3761).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},e=>{e.O(0,[461,55,218,144,358],()=>e(e.s=4915)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{591:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},609:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1063:(e,t,a)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}a.d(t,{A:()=>s});var s=function e(t,a){function s(e,s,l){if("undefined"!=typeof document){"number"==typeof(l=r({},a,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var n in l)l[n]&&(i+="; "+n,!0!==l[n]&&(i+="="+l[n].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+i}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],r={},s=0;s<a.length;s++){var l=a[s].split("="),i=l.slice(1).join("=");try{var n=decodeURIComponent(l[0]);if(r[n]=t.read(i,n),e===n)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){s(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},1770:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},2062:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3690:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},3984:(e,t,a)=>{Promise.resolve().then(a.bind(a,4343))},4128:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},4343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(3338),s=a(277),l=a(7022),i=a(1063),n=a(3421),o=a.n(n),d=a(2062),c=a(4128),u=a(9287),p=a(609),h=a(1770),b=a(591),f=a(3690);function m(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)(!1),[n,m]=(0,s.useState)("file"),[x,g]=(0,s.useState)(!1),v=(0,s.useRef)(null),[y,k]=(0,s.useState)({title:"",studentName:"",image:"",link:""}),j=e=>{if(!e.type.startsWith("image/"))return void alert("Mohon upload file gambar screenshot website!");if(e.size>2097152)return void alert("Ukuran file terlalu besar! Maksimal 2MB.");let t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{k(e=>({...e,image:t.result}))}},w=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?g(!0):"dragleave"===e.type&&g(!1)},N=async t=>{t.preventDefault(),a(!0);let r=i.A.get("token");if(!y.title||!y.studentName||!y.image||!y.link){alert("Mohon lengkapi semua data (Nama, Judul, Screenshot, Link)!"),a(!1);return}try{let t=await fetch("https://aditya03-fend-himikom-backend.hf.space/api/portfolio",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(y)});if(t.ok)alert("Portfolio berhasil ditambahkan!"),e.push("/admin/portfolio");else{let e=await t.json();throw Error(e.message||"Gagal menyimpan portfolio")}}catch(e){console.error(e),alert(e.message||"Terjadi kesalahan.")}finally{a(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,r.jsx)(o(),{href:"/admin/portfolio",className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:(0,r.jsx)(d.A,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold font-heading",children:"Tambah Web Portfolio"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Showcase website karya mahasiswa."})]})]}),(0,r.jsx)("div",{className:"max-w-2xl bg-zinc-900 border border-white/10 rounded-xl p-8",children:(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Nama Mahasiswa"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition-all",placeholder:"Nama Pembuat",value:y.studentName,onChange:e=>k({...y,studentName:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Judul Website / Project"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition-all",placeholder:"Contoh: Toko Online UMKM",value:y.title,onChange:e=>k({...y,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Screenshot Website"}),(0,r.jsxs)("div",{className:"flex bg-black/50 p-1 rounded-lg border border-white/5",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>m("file"),className:`p-1 px-2 rounded text-[10px] font-bold transition-all flex items-center gap-1 ${"file"===n?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[(0,r.jsx)(c.A,{size:12})," Upload"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>m("url"),className:`p-1 px-2 rounded text-[10px] font-bold transition-all flex items-center gap-1 ${"url"===n?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[(0,r.jsx)(u.A,{size:12})," URL"]})]})]}),y.image?(0,r.jsxs)("div",{className:"relative group rounded-lg overflow-hidden border border-white/10 bg-black h-48 mb-4",children:[(0,r.jsx)("img",{src:y.image,alt:"Preview",className:"w-full h-full object-cover object-top"}),(0,r.jsx)("button",{type:"button",onClick:()=>k({...y,image:""}),className:"absolute top-2 right-2 bg-red-600/90 hover:bg-red-600 text-white p-1.5 rounded-full transition-all",children:(0,r.jsx)(p.A,{size:16})})]}):(0,r.jsx)(r.Fragment,{children:"file"===n?(0,r.jsxs)("div",{className:`relative w-full h-40 border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all ${x?"border-blue-500 bg-blue-500/10":"border-white/10 bg-black/30 hover:bg-black/50 hover:border-white/20"}`,onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:e=>{e.preventDefault(),e.stopPropagation(),g(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&j(e.dataTransfer.files[0])},onClick:()=>v.current?.click(),children:[(0,r.jsx)("input",{ref:v,type:"file",className:"hidden",accept:"image/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&j(e.target.files[0])}}),(0,r.jsx)(h.A,{size:32,className:`mb-2 ${x?"text-blue-400":"text-gray-500"}`}),(0,r.jsx)("p",{className:"text-sm text-gray-400 font-medium",children:"Klik atau drop screenshot website"}),(0,r.jsx)("p",{className:"text-[10px] text-gray-600 mt-1",children:"Maks 2MB (Landscape)"})]}):(0,r.jsx)("input",{type:"url",className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition-all",placeholder:"https://...",value:y.image,onChange:e=>k({...y,image:e.target.value})})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Link Menuju Website"}),(0,r.jsx)("input",{type:"url",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition-all",placeholder:"https://vercel.app/...",value:y.link,onChange:e=>k({...y,link:e.target.value})})]}),(0,r.jsx)("div",{className:"pt-4 border-t border-white/10 flex justify-end",children:(0,r.jsxs)("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[t?(0,r.jsx)(b.A,{className:"animate-spin"}):(0,r.jsx)(f.A,{size:18}),"SIMPAN PORTFOLIO"]})})]})})]})}},7022:(e,t,a)=>{"use strict";var r=a(3634);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},9287:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3761).A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])}},e=>{e.O(0,[461,218,144,358],()=>e(e.s=3984)),_N_E=e.O()}]);